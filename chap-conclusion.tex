\chapter{Conclusion}\label{chap:concl}
\markboth{Conclusion}{}% To set left/right header

\glsresetall

In this thesis, global robust control-aware motion planners have been presented to tackle the parametric uncertainties in any robot/controller models.
It has been shown that 

\section{Contributions}

Chapter~\ref{chap:samp} presented how to incorporate the closed-loop sensitivity concept and the resulting uncertainty tubes within a global sampling-based framework, whereas previous works primarily focused on local trajectory generation.
This approach enabled the generation of globally sensitivity-optimal trajectories. 
Furthermore, for the first time, sensitivity-based uncertainty tubes were used as robust constraints during the planning process, both on the state and control input spaces.
However, while this approach results in the generation of robust trajectories to parametric uncertainties and the sensitivity-based uncertainty tubes are obtained at a low computational cost, the overall cost remains too high when considering the thousands of computations required in a sampling-based application.
Thus, a decoupled approach has also been studied, based on a robust lazy strategy, which offers significant computational gains, especially as the system complexity increases.

Whereas Chapter~\ref{chap:samp} leverages a lazy robust collision check approach to address the computational challenges posed by the thousands of sensitivity-based uncertainty tube computations required to ensure robustness in standard tree-based applications, Chapter~\ref{chap:NN} exploits the structural similarity between the set of \myglsentry{odes} required for tube computation and \myglsentry{rnns}, directly correlating the desired trajectory to the uncertainty tubes and thereby eliminating the need to solve them.
According to the task at hand, the approach proposed a method for generating the dataset using a sampling-based approach.
Relying on a simple \myglsentry{gru} cell, the proposed architecture demonstrates an effective balance between prediction accuracy and inference time, achieving a time reduction of one order of magnitude compared to solving the set of ODEs.

This GRU-based architecture has been leveraged in Chapter~\ref{chap:sampNN} to propose an efficient alternative to the lazy approach presented in Chapter~\ref{chap:samp}.
Deep learning-based sensitivity-aware variants were proposed, demonstrating their efficiency in generating robust motions within a manageable planning time.
Furthermore, while in Chapter~\ref{chap:samp} the sensitivity was used to generate globally sensitivity-minimal trajectories throughout the entire motion, in this work it has been leveraged to achieve accuracy optimization, considering the uncertainty tubes only at specific locations along the motion, based on the task at hand.
An extensive simulation campaign was conducted to identify the most effective local optimizer for optimizing such punctual cost functions, by considering both the trajectory and the controller gains as optimization variables.
Finally, both the robust planners and the accuracy optimization stage were evaluated in two challenging scenarios: a quadrotor navigating through a narrow window and an in-flight ring-catching task requiring high precision. 
These tests validated the efficiency of the proposed methods in an indoor environment.
However, the proposed framework should be further validated on more complex system such as aerial manipulator.

\section{Future Works}

Although this work represents a step toward an efficient global robust control-aware motion planner framework for any robot/controller pair, it can be further improved both from a theoretical perspective and an algorithmic point of view.

\paragraph{Theoretical}

First, as mentioned in Chapter~\ref{chap:samp}, none of the proposed \gls{samp} variants are proven complete.
While the \gls{deepsamp} variants offer more practical implementations, they lack formal guarantees due to the unpredictable nature of learning models.
However, future work could focus on bounding the first-order sensitivity-based tube approximations to establish the robust feasibility of the \myglsentry{samp} solutions and, consequently, their completeness.

As discussed in Section~\ref{sec:sensi}, the computation of closed-loop sensitivity and the subsequent uncertainty tubes relies on the assumption of perfect knowledge of the robot state. 
Therefore, the current system does not account for uncertainty in state measurements, which is unavoidable due to sensor bias and noise.
Consequently, one could consider computing uncertainty tubes by also accounting for a priori known measurable sensor biases and noise, using the observability Gramian, which is a metric that quantifies how the robot state can be inferred from its outputs.

While this thesis focuses primarily on parametric uncertainties and presents indoor experiments, a step toward a more general framework applicable outdoors would involve accounting for external system disturbances, such as wind.
Since the closed-loop sensitivity of any function of the state can be computed, external disturbances might be incorporated by evaluating the closed-loop sensitivity of barrier functions, for instance.

\paragraph{Algorithmic}

From an algorithmic perspective, a new local optimizer called ExtendedShortcut was proposed in Chapter~\ref{chap:sampNN}. 
This algorithm aims to combine a broader exploration of the initial trajectory surroundings by using noisy state sampling within a shortcut process. 
Simulation results have shown promising outcomes. 
However, further investigation into a more effective noisy state generation process, based on adaptive sampling, could help reduce the algorithm sensitivity to its hyperparameters.


One can further improve the \myglsentry{lazysamp} variants to allow online robust replanning by investigating a more sofisticate robust reconnection procedure when not using sensitivity cost but only robust constraints as done in "R. Bohlin and L. E. Kavraki, "Path planning using lazy prm", Proceedings 2000 ICRA. Millennium Conference. IEEE International Conference on Robotics and Automation. Symposia Proceedings (Cat. No. 00CH37065), vol. 1, pp. 521-528, 2000.".
In brief, the colliding edge is removed from the tree and searching continues with adding samples near the discarded edge to connect the two sections of the tree. The lazy-collision checking alleviates one of the main computational bottlenecks of sampling-based planning by limiting collision checking to the edges of the solution. 
However, if number of collisions in the solution is large, then many efforts are required to repair the solution. 
Therefore, an efficient online replanning technic would consist on a simple low frequency "geometric" planning which robustly checks and reconnect in a lazy way and tacking advantage of the learning ! SUPER FAST BZZ BZZ 

